////// AAC CANCEL //////
func isEquippedTwoHanded()
  return !item.left

func CheckForAAC()
  ?!ai.enabled
    return

  var isTwoHanded = isEquippedTwoHanded()
  var leftItem = item.left
  var rightItem = item.right

  ?item.right.state = 3
    equipR *0 shield
  ?item.left.state = 3
    equipL *0 wand

  ?isTwoHanded
    ?rightItem
      equip @rightItem@
    :?leftItem
      equip @leftItem@
  :
    ?rightItem
      equipR @rightItem@
    ?leftItem
      equipL @leftItem@   
CheckForAAC()


////// INFO //////
>`0,0,Time = @totaltime / 3@
>`0,6, Dash = 
^@item.GetCooldown(＂quarterstaff＂)/3@
>`0,7, Blade = 
^@item.GetCooldown(＂blade＂)/3@
>`0,8, Mask = 
^@item.GetCooldown(＂mask＂)/3@
>`0,9, BShield = 
^@item.GetCooldown(＂bash＂)/3@
>`0,10, DShield = 
^@item.GetCooldown(＂dash＂)/3@
>`0,11, Hammer = 
^@item.GetCooldown(＂hammer＂)/3@

>`0,20, Foe = @foe.name@:
^ S:@foe.state@ T:@foe.time/3@
>`0,21, Foe distance = @foe.distance@
>`0,22, X = @pos.x@
>`0,23, Z = @pos.z@

var Head = ascii
╘曲╛
asciiend
>h-1,+1,#white,@Head@


////// LOC //////

/////////////////// BOFG START
?item.CanActivate() & loc ! rocky
    ?foe.distance < 5
      var frame = 0
      var cdb = 0
      cdb = item.GetCooldown(＂blade＂)
      ? cdb <= 0 & frame <= 0
        frame = 1
        screen.Next()
      : ? frame > 0
          frame++
        ? frame >= 15
          frame = 0
          equip Blade
          activate R
          screen.ResetOffset()
        return


var P = 0
func OnPress()
  ?P = 0
    P = 1
    >Off
  :?P = 1
    P = 0
    >On

var button = ui.AddButton()
button.x=80
button.y=3
button.w=8
button.h=3
button.text=＂SCRIPT＂
button.dock=top_left
button.SetPressed(OnPress)

?P = 0 & ai.enabled & foe ! hrímnir
  ?summon.count = 0
    equipL fire talisman
    equipR compound shield 
    ?time > 1
      equipR triskelion 
    ?item.CanActivate(＂fire_talisman＂)
      activate L
  :
    ?item.GetCooldown(＂quarterstaff＂) <= 0
    ^&time > 1
      equip dasher +11
      activate R
      ?item.CanActivate(＂quarterstaff＂)
        activate R
      :
        equipR compound shield 
        equipL triskelion 
    :
      ?foe ! hrímnir  
        ?foe.count > 0 & foe.distance < 20
          ?item.GetCooldown(＂bash＂) <= 0 
            equipR bashing shield 
            equipL triskelion 
          :
            ?item.GetCooldown(＂dash＂) <= 0
              equipR dashing shield 
              equipL triskelion
            :
              equip stone crossbow +21
          ?foe.distance < 13
            ?foe = ice pillar 
            ^& foe.hp >= foe.maxhp % 2
              equipR aether sword +11
              equipL aether sword +10
            :
              equip stone crossbow +21      
        :
          ?armor < 14
            equipR tower shield +11
            equipL quest
          :
            equipR compound shield 
            equipL triskelion 

?foe = ice wall
  equipR aether sword +11
  equipL aether sword +10


?foe = boss 
  var p = 1
  ?p = 1
    >`15,0, BOSS

?foe = hrímnir
  >`15,1, FIGHT 
  ?foe.armor > 0
    equipR aether sword +11
    equipL aether sword +10
  ?foe.state = 1
    activate cinderwisp 
  ?foe.state = 132
    activate potion
  ?foe.state = 32 | foe.state = 33
    ?item.GetCooldown(＂quarterstaff＂) <= 0
    ^&time > 1
      equip dasher +11
      activate R
      ?item.CanActivate(＂quarterstaff＂)
        activate R
    ?foe.distance > 12
      ?item.GetCooldown(＂bash＂) <= 0 
        equipR bashing shield
        equipL triskelion 
      :
        ?item.GetCooldown(＂dash＂) <= 0
          equipR dashing shield 
          equipL triskelion 
    :
      ?foe.distance > 2
        equip shovel
      :
        ?hp < maxhp
          equipR fire sword +21
          equipL vigor sword +11
        :
          equipR fire sword +21
          equipL fire sword +6
  :
    ?foe.distance > 12
      ?item.GetCooldown(＂bash＂) <= 0 
        equipR bashing shield 
        equipL triskelion 
      :
        ?item.GetCooldown(＂dash＂) <= 0
          equipR dashing shield 
          equipL triskelion
        :
          equip fire crossbow +21
    :
      ?foe.distance < 8
        ?item.GetCooldown(＂mask＂) <= 0
        ^& foe.state = 132
          equip mask
          activate R
        :
          ?foe.distance <= 5 & foe.state ! 133
          ^& foe.state ! 0
            ?hp < maxhp
              equipR fire sword +21
              equipL vigor sword +11
            :
              equipR fire sword +21
              equipL fire sword +6
          :
            equip fire crossbow +21
      :
        equip fire crossbow +21



          
  
